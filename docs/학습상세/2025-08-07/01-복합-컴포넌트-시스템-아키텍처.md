# ë³µí•© ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

## ğŸ¯ í•™ìŠµ ëª©í‘œ
CategoryManagerë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ 4ê°œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì˜ í†µí•© ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ì—¬, ë³µì¡í•œ React ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ ì´í•´í•œë‹¤.

## ğŸ’¡ ì™œ ì´ê±¸ ë°°ì› ëŠ”ê°€?
ë‹¨ì¼ í˜ì´ì§€ì—ì„œ ì¹´í…Œê³ ë¦¬ ì „ì²´ ê´€ë¦¬ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ë ¤ë‹ˆ, í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œëŠ” ë„ˆë¬´ ë³µì¡í•´ì¡Œë‹¤. íƒ­ë³„ë¡œ ë‹¤ë¥¸ ê¸°ëŠ¥(í†µê³„ë³´ê¸°, ëŒ€ë¶„ë¥˜ê´€ë¦¬, ì†Œë¶„ë¥˜ê´€ë¦¬)ì„ ì œê³µí•˜ë©´ì„œë„ ë°ì´í„°ëŠ” ì¼ê´€ì„±ìˆê²Œ ê´€ë¦¬í•´ì•¼ í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

## ğŸ—ï¸ êµ¬í˜„í•œ ì•„í‚¤í…ì²˜

### 1. ì¤‘ì•™ ì§‘ì¤‘ì‹ ìƒíƒœ ê´€ë¦¬
```typescript
const CategoryManager: React.FC = () => {
  // ì¤‘ì•™ ìƒíƒœ: ëª¨ë“  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ê³µìœ 
  const [categories, setCategories] = useState<Category[]>(() => {
    const savedCategories = localStorage.getItem('moneyNote_categories');
    // ... ì´ˆê¸°í™” ë¡œì§
  });

  // ì¤‘ì•™ UI ìƒíƒœ: ëª¨ë‹¬, ìŠ¤ë‚µë°”, í¼ ìƒíƒœ í†µí•© ê´€ë¦¬
  const [categoryFormOpen, setCategoryFormOpen] = useState(false);
  const [subcategoryFormOpen, setSubcategoryFormOpen] = useState(false);
  const [editingCategory, setEditingCategory] = useState<Category | null>(null);
  // ...
};
```

### 2. Propsë¥¼ í†µí•œ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„
```typescript
// CategoryManager â†’ CategoryList
<CategoryList
  categories={categories}                    // ğŸ“¥ ë°ì´í„° ì „ë‹¬
  onEditCategory={handleEditCategory}        // ğŸ“¤ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì „ë‹¬
  onDeleteCategory={handleDeleteCategory}    // ğŸ“¤ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì „ë‹¬
  onAddSubcategory={handleAddSubcategory}   // ğŸ“¤ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì „ë‹¬
  showAll
/>

// CategoryManager â†’ CategoryForm
<CategoryForm
  open={categoryFormOpen}                   // ğŸ“¥ UI ìƒíƒœ ì „ë‹¬
  onClose={() => setCategoryFormOpen(false)} // ğŸ“¤ ë‹«ê¸° í•¸ë“¤ëŸ¬
  onSubmit={handleCategorySubmit}          // ğŸ“¤ ë°ì´í„° ì „ë‹¬ í•¸ë“¤ëŸ¬
  initialData={editingCategory || undefined} // ğŸ“¥ í¸ì§‘ ë°ì´í„°
  mode={editingCategory ? 'edit' : 'add'}   // ğŸ“¥ ëª¨ë“œ ì „ë‹¬
/>
```

### 3. 4ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°
```
CategoryManager (ìƒìœ„ ì»¨í…Œì´ë„ˆ)
â”œâ”€â”€ CategoryList (ê³„ì¸µí˜• ëª©ë¡ í‘œì‹œ)
â”‚   â”œâ”€â”€ ëŒ€ë¶„ë¥˜ í•­ëª©ë“¤
â”‚   â””â”€â”€ ì†Œë¶„ë¥˜ í•­ëª©ë“¤ (ì¤‘ì²©)
â”œâ”€â”€ CategoryForm (ëŒ€ë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬)
â”‚   â”œâ”€â”€ ìƒ‰ìƒ ì„ íƒê¸°
â”‚   â”œâ”€â”€ ì•„ì´ì½˜ ì„ íƒê¸°
â”‚   â””â”€â”€ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°
â””â”€â”€ SubcategoryForm (ì†Œë¶„ë¥˜ ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬)
    â”œâ”€â”€ ëŒ€ë¶„ë¥˜ ì„ íƒê¸°
    â”œâ”€â”€ ìƒ‰ìƒ/ì•„ì´ì½˜ ì„ íƒê¸°
    â””â”€â”€ ê³„ì¸µí˜• ë¯¸ë¦¬ë³´ê¸°
```

## ğŸ”§ í•µì‹¬ êµ¬í˜„ ê¸°ë²•

### 1. ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸° (Lifting State Up)
ê° í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì§€ ì•Šê³ , ëª¨ë“  ìƒíƒœë¥¼ CategoryManagerì—ì„œ ê´€ë¦¬:

```typescript
// âŒ ê° ì»´í¬ë„ŒíŠ¸ì—ì„œ ë…ë¦½ì  ìƒíƒœ ê´€ë¦¬
function CategoryForm() {
  const [categories, setCategories] = useState([]); // ë¬¸ì œ: ë™ê¸°í™” ì•ˆë¨
}

// âœ… ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœ ê´€ë¦¬
function CategoryManager() {
  const [categories, setCategories] = useState([]);
  
  return (
    <CategoryForm 
      categories={categories} 
      onSubmit={(data) => {
        // ì¤‘ì•™ì—ì„œ ìƒíƒœ ì—…ë°ì´íŠ¸
        setCategories(prev => [...prev, newCategory]);
      }}
    />
  );
}
```

### 2. Props ì¸í„°í˜ì´ìŠ¤ ëª…í™•í™”
ê° ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ê³¼ ì±…ì„ì„ Props ì¸í„°í˜ì´ìŠ¤ë¡œ ëª…í™•íˆ ì •ì˜:

```typescript
interface CategoryListProps {
  categories: Category[];                    // ì½ê¸° ì „ìš© ë°ì´í„°
  onEditCategory: (category: Category) => void;     // í¸ì§‘ ìš”ì²­ ì´ë²¤íŠ¸
  onDeleteCategory: (categoryId: string) => void;   // ì‚­ì œ ìš”ì²­ ì´ë²¤íŠ¸
  onEditSubcategory: (subcategory: Subcategory) => void;
  onDeleteSubcategory: (subcategoryId: string, categoryId: string) => void;
  onAddSubcategory: (categoryId: string) => void;   // ì¶”ê°€ ìš”ì²­ ì´ë²¤íŠ¸
  showAll?: boolean;                         // ì„ íƒì  í‘œì‹œ ì˜µì…˜
}
```

### 3. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ íŒ¨í„´ í†µì¼
ëª¨ë“  CRUD ì‘ì—…ì„ ì¼ê´€ëœ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„:

```typescript
// ì¶”ê°€ íŒ¨í„´
const handleCategorySubmit = (data: CategoryFormData) => {
  if (editingCategory) {
    // ìˆ˜ì • ë¡œì§
    setCategories(prev =>
      prev.map(cat =>
        cat.id === editingCategory.id
          ? { ...cat, ...data, updatedAt: new Date() }
          : cat
      )
    );
    showSnackbar('ì¹´í…Œê³ ë¦¬ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
  } else {
    // ì¶”ê°€ ë¡œì§
    const newCategory: Category = {
      id: `cat-${Date.now()}`,
      ...data,
      isDefault: false,
      subcategories: [],
      createdAt: new Date(),
      updatedAt: new Date()
    };
    setCategories(prev => [...prev, newCategory]);
    showSnackbar('ìƒˆ ì¹´í…Œê³ ë¦¬ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
  }
};
```

## ğŸ¯ ì‹¤ì „ ì ìš© ì‚¬ë¡€

### ê³„ì¸µí˜• ë°ì´í„° ì—…ë°ì´íŠ¸
ì†Œë¶„ë¥˜ ìˆ˜ì • ì‹œ ì¤‘ì²©ëœ ë°°ì—´ êµ¬ì¡° ì—…ë°ì´íŠ¸:

```typescript
const handleSubcategorySubmit = (data: SubcategoryFormData) => {
  setCategories(prev =>
    prev.map(cat =>
      cat.id === data.categoryId
        ? {
            ...cat,
            subcategories: cat.subcategories.map(sub =>
              sub.id === editingSubcategory.id
                ? { ...sub, ...data, updatedAt: new Date() }
                : sub
            ),
            updatedAt: new Date()
          }
        : cat
    )
  );
};
```

## ğŸ’¡ í•µì‹¬ ê¹¨ë‹¬ìŒ

### 1. ì»´í¬ë„ŒíŠ¸ ì—­í•  ë¶„ë¦¬ì˜ ì¤‘ìš”ì„±
- **CategoryManager**: ìƒíƒœ ê´€ë¦¬ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- **CategoryList**: ë°ì´í„° í‘œì‹œì™€ ì‚¬ìš©ì ì¸í„°ë™ì…˜
- **CategoryForm/SubcategoryForm**: ë°ì´í„° ì…ë ¥ê³¼ ìœ íš¨ì„± ê²€ì¦

### 2. Props Drilling vs ì ì ˆí•œ ìƒíƒœ ë°°ì¹˜
4ë‹¨ê³„ ê¹Šì´ì„ì—ë„ Context API ì—†ì´ Propsë§Œìœ¼ë¡œ ì¶©ë¶„í–ˆë‹¤. ì ì ˆí•œ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ê°€ ë” ì¤‘ìš”í–ˆë‹¤.

### 3. ì¼ê´€ì„± ìˆëŠ” íŒ¨í„´ì˜ í˜
ëª¨ë“  CRUD ì‘ì—…ì— ë™ì¼í•œ íŒ¨í„´ì„ ì ìš©í•˜ë‹ˆ ì½”ë“œê°€ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì¡Œë‹¤.

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„
ì´ ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ íƒœê·¸ ì‹œìŠ¤í…œ(ë‹¤ëŒ€ë‹¤ ê´€ê³„)ê³¼ ì˜ˆì‚° ê´€ë¦¬(ë³µì¡í•œ ê³„ì‚° ë¡œì§)ì—ë„ ì ìš©í•´ë³´ê¸°