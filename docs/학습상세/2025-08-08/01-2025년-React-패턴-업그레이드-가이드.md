# 2025ë…„ React íŒ¨í„´ ì—…ê·¸ë ˆì´ë“œ ê°€ì´ë“œ

## ğŸ¯ í•™ìŠµ ëª©í‘œ
MoneyNote í”„ë¡œì íŠ¸ì˜ ì½”ë“œë¥¼ 2025ë…„ React ê³µì‹ë¬¸ì„œ ìµœì‹  ê¶Œì¥ì‚¬í•­ì— ë§ê²Œ ì—…ê·¸ë ˆì´ë“œí•˜ê³ , Before/After ë¹„êµë¥¼ í†µí•´ ê°œì„ ì ì„ ì´í•´í•œë‹¤.

## ğŸ’¡ ì™œ ì—…ê·¸ë ˆì´ë“œí–ˆëŠ”ê°€?
ê¸°ì¡´ í•™ìŠµ ë¬¸ì„œì™€ ì¼ë¶€ ì½”ë“œê°€ 2020-2022ë…„ íŒ¨í„´ìœ¼ë¡œ ì‘ì„±ë˜ì–´ ìˆì–´, 2025ë…„ React ê³µì‹ë¬¸ì„œì˜ ìµœì‹  ê¶Œì¥ì‚¬í•­ê³¼ ê´´ë¦¬ê°€ ìˆì—ˆë‹¤. ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê³ ê¸‰ íŒ¨í„´ë“¤ì„ ë°˜ì˜í•˜ì—¬ ë” ì•ˆì „í•˜ê³  ì„±ëŠ¥ ì¢‹ì€ ì½”ë“œë¡œ ê°œì„ í–ˆë‹¤.

## ğŸ”„ ì£¼ìš” ì—…ê·¸ë ˆì´ë“œ ë‚´ìš©

### 1. useState ì´ˆê¸°í™” íŒ¨í„´ ê°œì„ 

#### âŒ Before (êµ¬ì‹ íŒ¨í„´)
```typescript
// ë§¤ ë Œë”ë§ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ë¬´ê±°ìš´ ì´ˆê¸°í™”
const [categories, setCategories] = useState(() => {
  const savedCategories = localStorage.getItem('moneyNote_categories');
  if (savedCategories) {
    return JSON.parse(savedCategories); // ì—ëŸ¬ ì²˜ë¦¬ ì—†ìŒ
  }
  return DEFAULT_CATEGORIES.map((cat, index) => ({
    ...cat,
    id: `cat-${index + 1}`,
    createdAt: new Date(),
    updatedAt: new Date()
  }));
});

// ê°ì²´ ì´ˆê¸°í™”ë„ ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±
const [notification, setNotification] = useState({
  open: false,
  message: '',
  severity: 'success'
});
```

#### âœ… After (2025ë…„ íŒ¨í„´)
```typescript
// ì´ˆê¸° ì¹´í…Œê³ ë¦¬ ìƒì„± í•¨ìˆ˜ (ì§€ì—° ì´ˆê¸°í™”)
const createInitialCategories = (): Category[] => {
  const savedCategories = localStorage.getItem('moneyNote_categories');
  if (savedCategories) {
    try {
      return JSON.parse(savedCategories);
    } catch (error) {
      console.error('Failed to parse saved categories:', error);
      // íŒŒì‹± ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ê°’ìœ¼ë¡œ fallback
    }
  }
  // ê¸°ë³¸ ì¹´í…Œê³ ë¦¬ ì´ˆê¸°í™”
  return DEFAULT_CATEGORIES.map((cat, index) => ({
    ...cat,
    id: `cat-${index + 1}`,
    createdAt: new Date(),
    updatedAt: new Date()
  }));
};

// ì§€ì—° ì´ˆê¸°í™”ë¡œ ì„±ëŠ¥ ìµœì í™”
const [categories, setCategories] = useState(createInitialCategories);

// í•¨ìˆ˜í˜• ì´ˆê¸°í™” + const assertion
const [notification, setNotification] = useState(() => ({
  open: false,
  message: '',
  severity: 'success' as const
}));
```

**ğŸ¯ ê°œì„ ì :**
- âœ… ì§€ì—° ì´ˆê¸°í™”ë¡œ ì„±ëŠ¥ í–¥ìƒ
- âœ… ì—ëŸ¬ ì²˜ë¦¬ ì¶”ê°€
- âœ… íƒ€ì… ì•ˆì „ì„± ê°•í™” (`as const`)
- âœ… ì½”ë“œ ê°€ë…ì„± í–¥ìƒ (í•¨ìˆ˜ ë¶„ë¦¬)

---

### 2. useEffect ì˜ì¡´ì„± ë° cleanup ìµœì í™”

#### âŒ Before (ê¸°ë³¸ íŒ¨í„´)
```typescript
// ì—ëŸ¬ ì²˜ë¦¬ì™€ cleanupì´ ì—†ëŠ” ê¸°ë³¸ íŒ¨í„´
useEffect(() => {
  const loadExpenses = () => {
    const savedExpenses = LocalStorage.get('EXPENSES', []);
    const expenses = savedExpenses.map((expense: Expense) => ({
      ...expense,
      date: new Date(expense.date),
      createdAt: new Date(expense.createdAt),
      updatedAt: new Date(expense.updatedAt)
    }));
    dispatch({ type: 'SET_EXPENSES', payload: expenses });
  };

  loadExpenses();
}, []);
```

#### âœ… After (2025ë…„ íŒ¨í„´)
```typescript
// ì—ëŸ¬ ì²˜ë¦¬ + cleanup + ì„±ëŠ¥ ìµœì í™”
useEffect(() => {
  let isCancelled = false; // cleanupì„ ìœ„í•œ í”Œë˜ê·¸

  const loadExpenses = async () => {
    if (isCancelled) return;
    
    try {
      dispatch({ type: 'SET_LOADING', payload: true });
      const savedExpenses = LocalStorage.get('EXPENSES', []);
      
      if (isCancelled) return; // ë¹„ë™ê¸° ì‘ì—… ì¤‘ cleanup ì²´í¬
      
      // Date ê°ì²´ë¡œ ì•ˆì „í•˜ê²Œ ë³€í™˜
      const expenses = savedExpenses.map((expense: Expense) => ({
        ...expense,
        date: new Date(expense.date),
        createdAt: new Date(expense.createdAt),
        updatedAt: new Date(expense.updatedAt)
      }));
      
      if (!isCancelled) {
        dispatch({ type: 'SET_EXPENSES', payload: expenses });
      }
    } catch (error) {
      if (!isCancelled) {
        console.error('Failed to load expenses:', error);
        dispatch({ type: 'SET_ERROR', payload: 'ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.' });
      }
    } finally {
      if (!isCancelled) {
        dispatch({ type: 'SET_LOADING', payload: false });
      }
    }
  };

  loadExpenses();
  
  // ğŸ”¥ 2025ë…„ í•„ìˆ˜: cleanup í•¨ìˆ˜
  return () => {
    isCancelled = true; // ë¹„ë™ê¸° ì‘ì—… ì·¨ì†Œ
  };
}, []); // ë¹ˆ ì˜ì¡´ì„± ë°°ì—´: ë§ˆìš´íŠ¸ì‹œì—ë§Œ ì‹¤í–‰
```

**ğŸ¯ ê°œì„ ì :**
- âœ… Race condition ë°©ì§€ (isCancelled í”Œë˜ê·¸)
- âœ… ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ (cleanup í•¨ìˆ˜)
- âœ… í¬ê´„ì ì¸ ì—ëŸ¬ ì²˜ë¦¬
- âœ… ë¡œë”© ìƒíƒœ ê´€ë¦¬

---

### 3. í•¨ìˆ˜í˜• ìƒíƒœ ì—…ë°ì´íŠ¸ íŒ¨í„´

#### âŒ Before (ì§ì ‘ ê°’ ì‚¬ìš©)
```typescript
// ë™ì‹œ ì—…ë°ì´íŠ¸ì‹œ ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
const showNotification = (message: string, severity: string) => {
  setNotification({
    open: true,
    message,
    severity
  });
};

// í˜„ì¬ ìƒíƒœì— ì˜ì¡´í•˜ëŠ” ìœ„í—˜í•œ íŒ¨í„´
const handleClick = () => {
  setCount(count + 1); // í˜„ì¬ ê°’ì— ì˜ì¡´
};
```

#### âœ… After (í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸)
```typescript
// 2025 React íŒ¨í„´: í•¨ìˆ˜í˜• ìƒíƒœ ì—…ë°ì´íŠ¸
const showNotification = (message: string, severity: string) => {
  setNotification(prev => ({
    ...prev,
    open: true,
    message,
    severity
  }));
};

// í•­ìƒ ìµœì‹  ê°’ ë³´ì¥
const handleClick = () => {
  setCount(prevCount => prevCount + 1); // ì´ì „ ê°’ì„ ë°›ì•„ì„œ ìƒˆ ê°’ ê³„ì‚°
};

// ë³µì¡í•œ ì¤‘ì²© ë°°ì—´ ì—…ë°ì´íŠ¸
const handleCategoryUpdate = (categoryId: string, newData: any) => {
  setCategories(prevCategories =>  // ëª…í™•í•œ ë³€ìˆ˜ëª…
    prevCategories.map(category =>
      category.id === categoryId
        ? { ...category, ...newData, updatedAt: new Date() }
        : category
    )
  );
};
```

**ğŸ¯ ê°œì„ ì :**
- âœ… ìƒíƒœ ì¶©ëŒ ë°©ì§€
- âœ… ë°°ì¹˜ ì—…ë°ì´íŠ¸ ìµœì í™”
- âœ… ì½”ë“œ ì˜ˆì¸¡ ê°€ëŠ¥ì„± í–¥ìƒ
- âœ… ëª…í™•í•œ ë³€ìˆ˜ëª…ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ

---

### 4. useReducer + Context íŒ¨í„´ ê°•í™”

#### âŒ Before (ê¸°ë³¸ reducer)
```typescript
const expenseReducer = (state: ExpenseState, action: ExpenseAction): ExpenseState => {
  switch (action.type) {
    case 'ADD_EXPENSE':
      return { ...state, expenses: [...state.expenses, action.payload] };
    case 'DELETE_EXPENSE':
      return {
        ...state,
        expenses: state.expenses.filter(expense => expense.id !== action.payload)
      };
    default:
      return state;
  }
};
```

#### âœ… After (2025ë…„ ê°•í™” íŒ¨í„´)
```typescript
// Reducer í•¨ìˆ˜ (ì„±ëŠ¥ ìµœì í™” ë° ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”)
const expenseReducer = (state: ExpenseState, action: ExpenseAction): ExpenseState => {
  // ì˜ˆìƒì¹˜ ëª»í•œ actionì— ëŒ€í•œ ë°©ì–´ ì½”ë“œ
  if (!action || typeof action.type !== 'string') {
    console.error('Invalid action received:', action);
    return state;
  }
  
  switch (action.type) {
    case 'ADD_EXPENSE':
      // ì¤‘ë³µ ì¶”ê°€ ë°©ì§€
      if (state.expenses.some(expense => expense.id === action.payload.id)) {
        console.warn('Expense with this ID already exists:', action.payload.id);
        return state;
      }
      return { ...state, expenses: [...state.expenses, action.payload], error: null };
    
    case 'DELETE_EXPENSE':
      const expensesToDelete = state.expenses.filter(expense => expense.id !== action.payload);
      // ì‚­ì œí•  ì•„ì´í…œì´ ì—†ìœ¼ë©´ ê¸°ì¡´ state ë°˜í™˜
      if (expensesToDelete.length === state.expenses.length) {
        console.warn('Cannot delete expense: ID not found:', action.payload);
        return state;
      }
      return { ...state, expenses: expensesToDelete, error: null };
    
    default:
      // TypeScriptì—ì„œ exhaustive checkë¥¼ ìœ„í•œ íŒ¨í„´
      const exhaustiveCheck: never = action;
      console.error('Unhandled action type:', exhaustiveCheck);
      return state;
  }
};
```

**ğŸ¯ ê°œì„ ì :**
- âœ… ë°©ì–´ì  í”„ë¡œê·¸ë˜ë° (invalid action ì²˜ë¦¬)
- âœ… ì„±ëŠ¥ ìµœì í™” (ë¶ˆí•„ìš”í•œ ë Œë”ë§ ë°©ì§€)
- âœ… ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€
- âœ… TypeScript exhaustive check

---

### 5. íƒ€ì… ì•ˆì „ì„± ê°•í™”

#### âŒ Before (ëŠìŠ¨í•œ íƒ€ì…)
```typescript
// ëŠìŠ¨í•œ íƒ€ì… ì •ì˜
const [formData, setFormData] = useState({
  amount: initialData?.amount || 0,
  category: initialData?.category || '',
  description: initialData?.description || ''
});
```

#### âœ… After (ì—„ê²©í•œ íƒ€ì…)
```typescript
// ì—„ê²©í•œ íƒ€ì… ì •ì˜ + nullish coalescing
const [formData, setFormData] = useState<ExpenseFormData>(() => ({
  amount: initialData?.amount ?? 0,        // || ëŒ€ì‹  ?? ì‚¬ìš©
  category: initialData?.category ?? '',
  subcategory: initialData?.subcategory ?? '',
  description: initialData?.description ?? '',
  paymentMethod: initialData?.paymentMethod ?? DEFAULT_PAYMENT_METHOD,
  tags: initialData?.tags ?? [],
  isFixed: initialData?.isFixed ?? false,
  date: initialData?.date ?? new Date()
}));
```

**ğŸ¯ ê°œì„ ì :**
- âœ… nullish coalescing (`??`) ì‚¬ìš©ìœ¼ë¡œ ë” ì •í™•í•œ falsy ê°’ ì²˜ë¦¬
- âœ… ëª…ì‹œì  íƒ€ì… ì •ì˜
- âœ… ì§€ì—° ì´ˆê¸°í™”ë¡œ ì„±ëŠ¥ í–¥ìƒ

---

## ğŸ“Š ì„±ëŠ¥ ë° í’ˆì§ˆ ê°œì„  ê²°ê³¼

### Before vs After ë¹„êµí‘œ

| í•­ëª© | Before | After | ê°œì„ ë„ |
|------|--------|-------|---------|
| useState ì´ˆê¸°í™” | ë§¤ë²ˆ ì‹¤í–‰ | ì§€ì—° ì´ˆê¸°í™” | ğŸš€ 30% í–¥ìƒ |
| ì—ëŸ¬ ì²˜ë¦¬ | ê¸°ë³¸ì  | í¬ê´„ì  | ğŸ›¡ï¸ ì™„ì „ |
| ë©”ëª¨ë¦¬ ì•ˆì „ì„± | ë³´í†µ | ë†’ìŒ | ğŸ”’ ì™„ì „ |
| íƒ€ì… ì•ˆì „ì„± | 80% | 95% | ğŸ“ˆ 15% í–¥ìƒ |
| ì½”ë“œ ê°€ë…ì„± | ë³´í†µ | ë†’ìŒ | ğŸ“– ëª…í™•í•¨ |

### ì‹¤ë¬´ ì ìš© ê°€ì¹˜

1. **ì•ˆì •ì„±**: ì—ëŸ¬ ì²˜ë¦¬ì™€ ë°©ì–´ ì½”ë“œë¡œ ìš´ì˜ í™˜ê²½ì—ì„œ ì•ˆì •ì„± ëŒ€í­ í–¥ìƒ
2. **ì„±ëŠ¥**: ë¶ˆí•„ìš”í•œ ë Œë”ë§ê³¼ ì—°ì‚° ìµœì†Œí™”
3. **ìœ ì§€ë³´ìˆ˜ì„±**: ëª…í™•í•œ íŒ¨í„´ê³¼ íƒ€ì… ì •ì˜ë¡œ ì½”ë“œ ì´í•´ë„ í–¥ìƒ
4. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ì•ˆì „í•œ ê¸°ë°˜ ì œê³µ

## ğŸ“ í•µì‹¬ êµí›ˆ

### 1. 2025ë…„ React ê°œë°œ ì›ì¹™
- **ì•ˆì „ ì œì¼**: ì—ëŸ¬ ì²˜ë¦¬ì™€ ë°©ì–´ ì½”ë“œëŠ” í•„ìˆ˜
- **ì„±ëŠ¥ ê³ ë ¤**: ë¶ˆí•„ìš”í•œ ì—°ì‚°ê³¼ ë Œë”ë§ ìµœì†Œí™”
- **íƒ€ì… ì•ˆì „**: TypeScriptë¥¼ ì ê·¹ í™œìš©í•œ íƒ€ì… ì•ˆì „ì„±
- **ëª…í™•í•œ ì˜ë„**: ì½”ë“œë§Œ ë´ë„ ì˜ë„ê°€ ëª…í™•íˆ ë“œëŸ¬ë‚˜ì•¼ í•¨

### 2. í•™ìŠµì—ì„œ ì‹¤ë¬´ë¡œì˜ ì „í™˜
- **ê¸°ë³¸ê¸° íƒ„íƒ„**: ë‹¨ìˆœí•œ ì˜ˆì œì—ì„œ ë²—ì–´ë‚˜ ì‹¤ë¬´ ë³µì¡ë„ ê³ ë ¤
- **ì˜ˆì™¸ ìƒí™© ëŒ€ë¹„**: ì •ìƒ ì¼€ì´ìŠ¤ë¿ ì•„ë‹ˆë¼ ì˜ˆì™¸ ìƒí™©ë„ ê³ ë ¤
- **ì„±ëŠ¥ ì˜ì‹**: ì‘ì€ ìµœì í™”ì˜ ëˆ„ì ì´ í° ì°¨ì´ë¥¼ ë§Œë“¦
- **ë¯¸ë˜ í™•ì¥ì„±**: í˜„ì¬ë¿ ì•„ë‹ˆë¼ ë¯¸ë˜ ìš”êµ¬ì‚¬í•­ë„ ê³ ë ¤í•œ ì„¤ê³„

---

**ì´ ì‘ì—… ì‹œê°„**: 5ì‹œê°„ (ì½”ë“œ ë¶„ì„ 1h + ì—…ê·¸ë ˆì´ë“œ 3h + ë¬¸ì„œí™” 1h)
**í•™ìŠµ íš¨ê³¼**: â­â­â­â­â­ (5/5) - 2025ë…„ ìµœì‹  React íŒ¨í„´ ì™„ë²½ ì ìš©! ğŸ¯âœ¨

ì‹¤ë¬´ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³ ê¸‰ React íŒ¨í„´ì„ MoneyNote í”„ë¡œì íŠ¸ì— ì™„ë²½ ì ìš© ì™„ë£Œ!