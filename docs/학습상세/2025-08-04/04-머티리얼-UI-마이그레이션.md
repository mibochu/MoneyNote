# 머티리얼-UI-마이그레이션

## 🎯 학습 목표
- Material-UI v7에서 뭐가 바뀌었는지 알아보자
- Grid 시스템 변화에 어떻게 대응할지 배우자
- 테마 시스템을 내 맘대로 커스터마이징하는 방법을 익히자

## 🤔 이걸 왜 했는가?
MoneyNote 프로젝트에서 Material-UI를 사용하려고 했는데, 최신 버전(v7)을 설치했더니 기존에 알던 Grid 컴포넌트가 작동하지 않는 문제가 발생했어. 
```bash
Property 'item' does not exist on type 'IntrinsicAttributes & GridProps'
```
이런 에러가 나오면서 빌드가 실패했지. 그래서 뭐가 바뀌었는지, 어떻게 해결해야 하는지 학습이 필요했어.

## 🛠️ 어떻게 했는가?
1. **에러 메시지 분석**: Grid 컴포넌트의 props가 바뀌었다는 걸 파악
2. **공식 문서 확인**: MUI v7 마이그레이션 가이드 찾아보기
3. **대안 검토**: CSS Grid vs Grid2 vs 다른 방법들 비교
4. **실제 적용**: 기존 코드를 CSS Grid로 전환하면서 반응형도 고려
5. **테마 커스터마이징**: 일관된 디자인을 위해 테마 시스템 구축

## 📦 Material-UI v7 주요 변화사항

### Grid 시스템 변화
Material-UI v7에서 가장 큰 변화는 Grid 컴포넌트야!

```typescript
// v6까지는 이렇게 했어
<Grid container spacing={3}>
  <Grid item xs={12} md={6}>
    <Card>첫 번째 카드</Card>
  </Grid>
  <Grid item xs={12} md={6}>
    <Card>두 번째 카드</Card>
  </Grid>
</Grid>

// v7에서는 이게 안 돼! 😱
// Property 'item' does not exist on type...
```

### 왜 바뀌었을까?
1. **성능 개선**: CSS Grid가 더 빠르고 효율적
2. **코드 간소화**: `container`, `item` 구분이 복잡했음
3. **표준 준수**: 웹 표준인 CSS Grid 사용 권장

## 🔄 Grid 마이그레이션 전략

### 방법 1: CSS Grid로 완전 전환 (추천!)
```typescript
// Before (MUI Grid)
<Grid container spacing={3}>
  <Grid item xs={12} sm={6} md={4}>
    <Card>카드 1</Card>
  </Grid>
  <Grid item xs={12} sm={6} md={4}>
    <Card>카드 2</Card>
  </Grid>
  <Grid item xs={12} sm={6} md={4}>
    <Card>카드 3</Card>
  </Grid>
</Grid>

// After (CSS Grid)
<Box sx={{ 
  display: 'grid',
  gridTemplateColumns: { 
    xs: '1fr',           // 모바일: 1열
    sm: '1fr 1fr',       // 태블릿: 2열
    md: '1fr 1fr 1fr'    // 데스크톱: 3열
  },
  gap: 3 
}}>
  <Card>카드 1</Card>
  <Card>카드 2</Card>
  <Card>카드 3</Card>
</Box>
```

### 방법 2: MUI Grid v2 사용
```typescript
// MUI에서 제공하는 새로운 Grid
import { Grid2 } from '@mui/material';

<Grid2 container spacing={3}>
  <Grid2 xs={12} md={6}>
    <Card>카드 1</Card>
  </Grid2>
  <Grid2 xs={12} md={6}>
    <Card>카드 2</Card>
  </Grid2>
</Grid2>
```

### 실제 프로젝트 적용 사례

**Dashboard 요약 카드들:**
```typescript
// 4개 카드를 반응형으로 배치
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { 
    xs: '1fr',                    // 모바일: 세로로 쌓기
    sm: '1fr 1fr',               // 태블릿: 2x2
    md: '1fr 1fr 1fr 1fr'        // 데스크톱: 가로로 나열
  },
  gap: 3,
  mb: 3
}}>
  <SummaryCard title="수입" amount={0} color="primary" />
  <SummaryCard title="지출" amount={0} color="error" />
  <SummaryCard title="저축" amount={0} color="success" />
  <SummaryCard title="예산잔액" amount={0} color="info" />
</Box>
```

**차트와 거래내역 2:1 비율 레이아웃:**
```typescript
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { xs: '1fr', md: '2fr 1fr' },
  gap: 3
}}>
  <Paper sx={{ p: 3 }}>
    {/* 차트 영역 - 더 넓게 */}
  </Paper>
  <Paper sx={{ p: 3 }}>
    {/* 거래내역 - 좁게 */}
  </Paper>
</Box>
```

## 🎨 테마 시스템 커스터마이징

### 기본 테마 설정
```typescript
import { createTheme } from '@mui/material/styles';

const theme = createTheme({
  // 색상 팔레트 커스터마이징
  palette: {
    mode: 'light',
    primary: {
      main: '#1976d2',        // 파란색
    },
    secondary: {
      main: '#dc004e',        // 빨간색
    },
    background: {
      default: '#f5f5f5',     // 연한 회색 배경
    }
  },
  
  // 타이포그래피 설정
  typography: {
    h4: {
      fontWeight: 600,        // 제목은 좀 더 굵게
    },
    h6: {
      fontWeight: 600,
    }
  }
});
```

### StyleOverrides로 컴포넌트 스타일 변경
```typescript
const theme = createTheme({
  components: {
    // Paper 컴포넌트 스타일 변경
    MuiPaper: {
      styleOverrides: {
        root: {
          borderRadius: 12,     // 더 둥근 모서리
        }
      }
    },
    
    // Card 컴포넌트 스타일 변경
    MuiCard: {
      styleOverrides: {
        root: {
          borderRadius: 12,
          boxShadow: '0 2px 8px rgba(0,0,0,0.1)', // 부드러운 그림자
        }
      }
    },
    
    // Button 컴포넌트 스타일 변경
    MuiButton: {
      styleOverrides: {
        root: {
          borderRadius: 8,
          textTransform: 'none', // 대문자 변환 안 함
          fontWeight: 600,
        }
      }
    }
  }
});
```

### 테마 적용하기
```typescript
import { ThemeProvider, CssBaseline } from '@mui/material';

function App() {
  return (
    <ThemeProvider theme={theme}>
      <CssBaseline /> {/* 기본 CSS 리셋 */}
      {/* 나머지 앱 컴포넌트들 */}
    </ThemeProvider>
  );
}
```

## 🔧 호환성 이슈 해결법

### 1. TypeScript 컴파일 오류
**문제**: `Property 'item' does not exist on type`

**해결책**:
```typescript
// 이전 Grid 사용법 버리고
// CSS Grid로 완전 전환!

// 대신 이렇게
<Box sx={{ display: 'grid', ... }}>
```

### 2. 스타일 적용 안 됨
**문제**: 커스텀 스타일이 적용되지 않음

**해결책**:
```typescript
// sx prop 우선순위 높이기
<Box sx={{ 
  backgroundColor: 'red !important' 
}}>

// 또는 styled 사용
import { styled } from '@mui/material/styles';

const CustomBox = styled(Box)(({ theme }) => ({
  backgroundColor: theme.palette.primary.main,
}));
```

### 3. 반응형 디자인 이슈
**문제**: 모바일에서 레이아웃이 깨짐

**해결책**:
```typescript
// 브레이크포인트별로 상세 설정
<Box sx={{
  display: 'grid',
  gridTemplateColumns: {
    xs: '1fr',              // 0px~600px
    sm: '1fr 1fr',          // 600px~900px  
    md: '1fr 1fr 1fr',      // 900px~1200px
    lg: '1fr 1fr 1fr 1fr',  // 1200px~1536px
    xl: '1fr 1fr 1fr 1fr 1fr' // 1536px~
  },
  gap: { xs: 2, sm: 3 }     // 모바일은 gap 2, 나머지는 3
}}>
```

## 🎯 실제 해결 과정

### 문제 상황
```bash
# 이런 에러가 발생했어
Property 'item' does not exist on type 'IntrinsicAttributes & GridProps'
```

### 디버깅 과정
1. **에러 메시지 분석**: Grid 컴포넌트의 props 문제
2. **공식 문서 확인**: MUI v7 변경사항 확인
3. **대안 검토**: CSS Grid vs Grid2 vs 다른 방법
4. **마이그레이션**: 기존 코드를 CSS Grid로 전환

### 최종 해결책
```typescript
// 모든 Grid 사용을 이렇게 변경
<Box sx={{ 
  display: 'grid',
  gridTemplateColumns: { /* 반응형 설정 */ },
  gap: 3
}}>
  {/* 자식 컴포넌트들 */}
</Box>
```

## 💡 CSS Grid vs Flexbox 선택 가이드

### CSS Grid를 쓸 때 (2차원 레이아웃)
- 카드들을 격자로 배치할 때
- 복잡한 레이아웃 (대시보드 같은)
- 행과 열 둘 다 중요할 때

```typescript
// 대시보드 레이아웃
<Box sx={{ 
  display: 'grid',
  gridTemplateColumns: '2fr 1fr',
  gridTemplateRows: 'auto 1fr',
  gap: 3
}}>
```

### Flexbox를 쓸 때 (1차원 레이아웃)
- 요소들을 한 줄로 나열할 때
- 중앙 정렬이 중요할 때
- 간단한 레이아웃

```typescript
// 버튼들 나열
<Box sx={{ 
  display: 'flex',
  justifyContent: 'center',
  gap: 2
}}>
```

## 🎓 핵심 정리

### 1. MUI v7 핵심 변화
- **Grid 시스템**: CSS Grid 권장
- **성능 개선**: 더 빠른 렌더링
- **표준 준수**: 웹 표준 따르기

### 2. 마이그레이션 전략
- **점진적 전환**: 하나씩 천천히
- **CSS Grid 활용**: 더 강력하고 유연함
- **반응형 고려**: 모든 화면 크기 대응

### 3. 테마 커스터마이징
- **createTheme**: 전역 테마 설정
- **StyleOverrides**: 컴포넌트별 스타일
- **sx prop**: 개별 요소 스타일

## 🚀 다음 단계
- MUI X 컴포넌트 활용하기 (DataGrid, DatePicker 등)
- 다크모드 구현하기
- 커스텀 테마 시스템 고도화