# ë¦¬ì•¡íŠ¸-í›…ìŠ¤-ì‹¬í™”-í™œìš©

## ğŸ¯ í•™ìŠµ ëª©í‘œ
- useStateì˜ í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ê°€ ë­”ì§€, ì–¸ì œ ì“°ëŠ”ì§€ ì•Œì•„ë³´ì
- useEffect ì˜ì¡´ì„± ë°°ì—´ì„ ì œëŒ€ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ì
- React.memoì™€ ë©”ëª¨ì´ì œì´ì…˜ìœ¼ë¡œ ì„±ëŠ¥ì„ ë†’ì´ëŠ” ë¹„ë²•ì„ ìµíˆì

## ğŸ¤” ì´ê±¸ ì™œ í–ˆëŠ”ê°€?
MoneyNoteì—ì„œ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ë‹¤ ë³´ë‹ˆ ì„±ëŠ¥ ë¬¸ì œì™€ ìƒíƒœ ê´€ë¦¬ ì´ìŠˆê°€ ìƒê²¼ì–´:
1. **ë¹ ë¥¸ í´ë¦­ ì‹œ ìƒíƒœ ì—…ë°ì´íŠ¸ ëˆ„ë½**: ë²„íŠ¼ì„ ì—°ì†ìœ¼ë¡œ í´ë¦­í•˜ë©´ ì¹´ìš´íŠ¸ê°€ ì œëŒ€ë¡œ ì•ˆ ì˜¬ë¼ê°€ëŠ” ë¬¸ì œ
2. **ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§**: ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ëª¨ë“  ìì‹ë“¤ë„ ë¦¬ë Œë”ë§
3. **useEffect ë¬´í•œ ë£¨í”„**: ì˜ì¡´ì„± ë°°ì—´ì„ ì˜ëª» ì„¤ì •í•´ì„œ ê³„ì† ì‹¤í–‰ë˜ëŠ” ë¬¸ì œ

ì´ëŸ° React Hooks ê´€ë ¨ ë¬¸ì œë“¤ì„ í•´ê²°í•˜ë ¤ë©´ ì‹¬í™” ê°œë…ì´ í•„ìš”í–ˆì–´.

## ğŸ› ï¸ ì–´ë–»ê²Œ í–ˆëŠ”ê°€?
1. **í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ ë„ì…**: `setState(prev => prev + 1)` ë°©ì‹ìœ¼ë¡œ ìµœì‹  ìƒíƒœ ë³´ì¥
2. **ì˜ì¡´ì„± ë°°ì—´ ìµœì í™”**: í•„ìš”í•œ ê²ƒë§Œ ë„£ê³ , í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ë¡œ ì˜ì¡´ì„± ìµœì†Œí™”
3. **React.memo ì ìš©**: ExpenseItem ê°™ì€ ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œì— memo ì ìš©í•´ì„œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
4. **useMemo/useCallback í™œìš©**: ë¹„ì‹¼ ê³„ì‚°ê³¼ í•¨ìˆ˜ë¥¼ ë©”ëª¨í•´ì„œ ì„±ëŠ¥ í–¥ìƒ
5. **ì„±ëŠ¥ ì¸¡ì •**: console.logë¡œ ì‹¤ì œ ë Œë”ë§ íšŸìˆ˜ í™•ì¸í•˜ë©´ì„œ ìµœì í™” íš¨ê³¼ ê²€ì¦

## ğŸ”„ useState í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ íŒ¨í„´

### ê¸°ë³¸ useState vs í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸
```typescript
const [count, setCount] = useState(0);

// ì¼ë°˜ì ì¸ ë°©ë²•
const handleIncrement = () => {
  setCount(count + 1); // í˜„ì¬ count ê°’ì„ ì§ì ‘ ì‚¬ìš©
};

// í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ ë°©ë²• 
const handleIncrement = () => {
  setCount(prev => prev + 1); // ì´ì „ ê°’ì„ ë°›ì•„ì„œ ì²˜ë¦¬
};
```

### ì™œ í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ë¥¼ ì“¸ê¹Œ?

**1. ìµœì‹  ìƒíƒœ ë³´ì¥**
```typescript
// ë¬¸ì œ ìƒí™©: ë¹ ë¥´ê²Œ í´ë¦­í•˜ë©´ ê°’ì´ ì œëŒ€ë¡œ ì•ˆ ì˜¬ë¼ê°€
const BadCounter = () => {
  const [count, setCount] = useState(0);
  
  const handleDouble = () => {
    setCount(count + 1); // ì²« ë²ˆì§¸ ì—…ë°ì´íŠ¸
    setCount(count + 1); // ë‘ ë²ˆì§¸ ì—…ë°ì´íŠ¸ (ì—¬ì „íˆ ê°™ì€ count ì‚¬ìš©!)
    // ê²°ê³¼: 1ë§Œ ì¦ê°€ (2ê°€ ì•„ë‹ˆë¼!)
  };
};

// í•´ê²°: í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸
const GoodCounter = () => {
  const [count, setCount] = useState(0);
  
  const handleDouble = () => {
    setCount(prev => prev + 1); // ì²« ë²ˆì§¸ ì—…ë°ì´íŠ¸
    setCount(prev => prev + 1); // ë‘ ë²ˆì§¸ ì—…ë°ì´íŠ¸ (ìµœì‹  ê°’ ì‚¬ìš©!)
    // ê²°ê³¼: 2 ì¦ê°€!
  };
};
```

**2. useEffect ì˜ì¡´ì„± ì œê±°**
```typescript
// ë¬¸ì œ: countê°€ ì˜ì¡´ì„±ì— ìˆì–´ì•¼ í•¨
const BadComponent = () => {
  const [count, setCount] = useState(0);
  
  useEffect(() => {
    const timer = setInterval(() => {
      setCount(count + 1); // countë¥¼ ì§ì ‘ ì‚¬ìš©
    }, 1000);
    
    return () => clearInterval(timer);
  }, [count]); // countê°€ ë°”ë€” ë•Œë§ˆë‹¤ íƒ€ì´ë¨¸ ì¬ìƒì„±!
};

// í•´ê²°: ì˜ì¡´ì„± ë°°ì—´ì´ ë¹„ì–´ë„ ë¨
const GoodComponent = () => {
  const [count, setCount] = useState(0);
  
  useEffect(() => {
    const timer = setInterval(() => {
      setCount(prev => prev + 1); // í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸
    }, 1000);
    
    return () => clearInterval(timer);
  }, []); // ë¹ˆ ë°°ì—´! í•œ ë²ˆë§Œ ì‹¤í–‰
};
```

### ë³µì¡í•œ ìƒíƒœ ì—…ë°ì´íŠ¸
```typescript
interface TodoItem {
  id: number;
  text: string;
  completed: boolean;
}

const [todos, setTodos] = useState<TodoItem[]>([]);

// í•  ì¼ ì¶”ê°€
const addTodo = (text: string) => {
  setTodos(prev => [
    ...prev,
    { id: Date.now(), text, completed: false }
  ]);
};

// í•  ì¼ ì™„ë£Œ í† ê¸€
const toggleTodo = (id: number) => {
  setTodos(prev => prev.map(todo =>
    todo.id === id 
      ? { ...todo, completed: !todo.completed }
      : todo
  ));
};

// í•  ì¼ ì‚­ì œ
const deleteTodo = (id: number) => {
  setTodos(prev => prev.filter(todo => todo.id !== id));
};
```

## âš¡ useEffect ì˜ì¡´ì„± ë°°ì—´ ê´€ë¦¬

### ì˜ì¡´ì„± ë°°ì—´ì´ ë­˜ê¹Œ?
useEffectì˜ ë‘ ë²ˆì§¸ ì¸ìì•¼. "ì´ ê°’ë“¤ì´ ë°”ë€” ë•Œë§ˆë‹¤ effectë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•´"ë¼ëŠ” ëœ»!

```typescript
useEffect(() => {
  // ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ì¡°ê±´
}, [/* ì´ ë°°ì—´ì˜ ê°’ë“¤ì´ ë°”ë€” ë•Œ */]);
```

### ì˜ì¡´ì„± ë°°ì—´ íŒ¨í„´ë“¤

**1. ë¹ˆ ë°°ì—´ [] - ë§ˆìš´íŠ¸ ì‹œ í•œ ë²ˆë§Œ**
```typescript
useEffect(() => {
  console.log('ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë‚˜íƒ€ë‚  ë•Œë§Œ ì‹¤í–‰');
  
  // API í˜¸ì¶œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ë“±
  fetchInitialData();
  
  return () => {
    console.log('ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œ ì‹¤í–‰');
    // ì •ë¦¬ ì‘ì—…
  };
}, []); // ë¹ˆ ë°°ì—´
```

**2. ì˜ì¡´ì„± ì—†ìŒ - ë§¤ ë Œë”ë§ë§ˆë‹¤**
```typescript
useEffect(() => {
  console.log('ë§¤ë²ˆ ì‹¤í–‰ë¨ (ë³´í†µ ì•ˆ ì”€)');
}); // ì˜ì¡´ì„± ë°°ì—´ ì—†ìŒ
```

**3. íŠ¹ì • ê°’ ë³€í™” ì‹œ**
```typescript
const [user, setUser] = useState(null);
const [posts, setPosts] = useState([]);

useEffect(() => {
  if (user) {
    fetchUserPosts(user.id);
  }
}, [user]); // userê°€ ë°”ë€” ë•Œë§ˆë‹¤ ì‹¤í–‰
```

### ì˜ì¡´ì„± ë°°ì—´ ì‹¤ìˆ˜ë“¤ê³¼ í•´ê²°ë²•

**ì‹¤ìˆ˜ 1: ë¹ ëœ¨ë¦° ì˜ì¡´ì„±**
```typescript
// ì˜ëª»ëœ ì˜ˆ
const BadComponent = ({ userId }) => {
  const [userData, setUserData] = useState(null);
  
  useEffect(() => {
    fetchUser(userId).then(setUserData); // userId ì‚¬ìš©í•˜ëŠ”ë°
  }, []); // ì˜ì¡´ì„±ì— ì—†ìŒ!
  
  // userIdê°€ ë°”ë€Œì–´ë„ ìƒˆ ë°ì´í„°ë¥¼ ì•ˆ ê°€ì ¸ì™€
};

// ì˜¬ë°”ë¥¸ ì˜ˆ
const GoodComponent = ({ userId }) => {
  const [userData, setUserData] = useState(null);
  
  useEffect(() => {
    fetchUser(userId).then(setUserData);
  }, [userId]); // userIdë¥¼ ì˜ì¡´ì„±ì— ì¶”ê°€!
};
```

**ì‹¤ìˆ˜ 2: ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±**
```typescript
// ë¬¸ì œê°€ ìˆëŠ” ì˜ˆ
const ProblematicComponent = () => {
  const [count, setCount] = useState(0);
  const [name, setName] = useState('');
  
  useEffect(() => {
    document.title = `ì¹´ìš´íŠ¸: ${count}`;
  }, [count, name]); // nameì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë° ì˜ì¡´ì„±ì— ìˆìŒ
  
  // nameì´ ë°”ë€” ë•Œë„ ë¶ˆí•„ìš”í•˜ê²Œ ì‹¤í–‰ë¨!
};

// í•´ê²°ëœ ì˜ˆ
const FixedComponent = () => {
  const [count, setCount] = useState(0);
  const [name, setName] = useState('');
  
  useEffect(() => {
    document.title = `ì¹´ìš´íŠ¸: ${count}`;
  }, [count]); // countë§Œ ì˜ì¡´ì„±ì—!
};
```

## ğŸ§  React.memoì™€ ë©”ëª¨ì´ì œì´ì…˜ ì „ëµ

### React.memoë€?
ì»´í¬ë„ŒíŠ¸ë¥¼ "ê¸°ì–µ"í•´ì„œ, propsê°€ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ë‹¤ì‹œ ë Œë”ë§í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥!

```typescript
// ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ (í•­ìƒ ë¦¬ë Œë”ë§)
const ExpensiveComponent = ({ data }) => {
  console.log('ë Œë”ë§ë¨!'); // ë¶€ëª¨ê°€ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
  
  return <div>{data.name}</div>;
};

// memoë¡œ ê°ì‹¼ ì»´í¬ë„ŒíŠ¸ (props ë°”ë€” ë•Œë§Œ ë¦¬ë Œë”ë§)
const OptimizedComponent = React.memo(({ data }) => {
  console.log('í•„ìš”í•  ë•Œë§Œ ë Œë”ë§ë¨!');
  
  return <div>{data.name}</div>;
});
```

### ì–¸ì œ React.memoë¥¼ ì“¸ê¹Œ?

**ì“°ë©´ ì¢‹ì€ ê²½ìš°:**
- ë Œë”ë§ ë¹„ìš©ì´ í° ì»´í¬ë„ŒíŠ¸
- propsê°€ ìì£¼ ë°”ë€Œì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸
- ëª©ë¡ì˜ ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸

**ì“°ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²½ìš°:**
- ê°„ë‹¨í•œ ì»´í¬ë„ŒíŠ¸
- propsê°€ í•­ìƒ ë°”ë€ŒëŠ” ì»´í¬ë„ŒíŠ¸

### ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

**ExpenseItem ì»´í¬ë„ŒíŠ¸ ìµœì í™”:**
```typescript
interface ExpenseItemProps {
  expense: {
    id: number;
    title: string;
    amount: number;
    category: string;
  };
  onEdit: (id: number) => void;
  onDelete: (id: number) => void;
}

// memoë¡œ ê°ì‹¸ì„œ ìµœì í™”
const ExpenseItem = React.memo<ExpenseItemProps>(({ expense, onEdit, onDelete }) => {
  console.log('ExpenseItem ë Œë”ë§:', expense.id);
  
  return (
    <ListItem>
      <ListItemText 
        primary={expense.title}
        secondary={`${expense.amount.toLocaleString()}ì› - ${expense.category}`}
      />
      <IconButton onClick={() => onEdit(expense.id)}>
        <Edit />
      </IconButton>
      <IconButton onClick={() => onDelete(expense.id)}>
        <Delete />
      </IconButton>
    </ListItem>
  );
});
```

### useMemoì™€ useCallback

**useMemo - ê³„ì‚° ê²°ê³¼ ê¸°ì–µí•˜ê¸°:**
```typescript
const ExpenseList = ({ expenses }) => {
  // ë¹„ì‹¼ ê³„ì‚°ì„ ë©”ëª¨í•´ì„œ expensesê°€ ë°”ë€” ë•Œë§Œ ë‹¤ì‹œ ê³„ì‚°
  const totalAmount = useMemo(() => {
    console.log('ì´ì•¡ ê³„ì‚° ì¤‘...');
    return expenses.reduce((sum, expense) => sum + expense.amount, 0);
  }, [expenses]);
  
  const monthlyAverage = useMemo(() => {
    console.log('ì›”í‰ê·  ê³„ì‚° ì¤‘...');
    return totalAmount / 12;
  }, [totalAmount]);
  
  return (
    <div>
      <p>ì´ ì§€ì¶œ: {totalAmount.toLocaleString()}ì›</p>
      <p>ì›” í‰ê· : {monthlyAverage.toLocaleString()}ì›</p>
    </div>
  );
};
```

**useCallback - í•¨ìˆ˜ ê¸°ì–µí•˜ê¸°:**
```typescript
const ExpenseManager = () => {
  const [expenses, setExpenses] = useState([]);
  
  // í•¨ìˆ˜ë¥¼ ë©”ëª¨í•´ì„œ ë§¤ë²ˆ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê¸°
  const handleDelete = useCallback((id: number) => {
    setExpenses(prev => prev.filter(expense => expense.id !== id));
  }, []); // expensesì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ ì‚¬ìš©
  
  const handleEdit = useCallback((id: number) => {
    // í¸ì§‘ ë¡œì§
  }, []);
  
  return (
    <div>
      {expenses.map(expense => (
        <ExpenseItem
          key={expense.id}
          expense={expense}
          onDelete={handleDelete} // ê°™ì€ í•¨ìˆ˜ ì°¸ì¡° ì „ë‹¬
          onEdit={handleEdit}
        />
      ))}
    </div>
  );
};
```

## ğŸ’¡ ì‹¤ì œ í”„ë¡œì íŠ¸ ì ìš© ì‚¬ë¡€

### Navigation ì»´í¬ë„ŒíŠ¸ ìµœì í™”
```typescript
// í˜„ì¬ ê²½ë¡œê°€ ë°”ë€” ë•Œë§Œ ë¦¬ë Œë”ë§ë˜ë„ë¡
const Navigation = React.memo(() => {
  const location = useLocation();
  
  const navigationItems = useMemo(() => [
    { path: '/', label: 'ëŒ€ì‹œë³´ë“œ', icon: <Dashboard /> },
    { path: '/expenses', label: 'ì§€ì¶œ', icon: <Receipt /> },
    // ...
  ], []); // ì •ì  ë°ì´í„°ëŠ” ë¹ˆ ì˜ì¡´ì„±
  
  return (
    <BottomNavigation>
      {navigationItems.map((item) => (
        <BottomNavigationAction
          key={item.path}
          selected={location.pathname === item.path}
          // ...
        />
      ))}
    </BottomNavigation>
  );
});
```

### Dashboard ìš”ì•½ ì¹´ë“œ ìµœì í™”
```typescript
interface SummaryCardProps {
  title: string;
  amount: number;
  color: 'primary' | 'error' | 'success' | 'info';
}

// ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ëŠ” propsê°€ ë°”ë€” ë•Œë§Œ ë¦¬ë Œë”ë§
const SummaryCard = React.memo<SummaryCardProps>(({ title, amount, color }) => {
  const formattedAmount = useMemo(() => {
    return `â‚©${amount.toLocaleString()}`;
  }, [amount]);
  
  return (
    <Card>
      <CardContent>
        <Typography variant="h6">{title}</Typography>
        <Typography variant="h4" color={color}>
          {formattedAmount}
        </Typography>
      </CardContent>
    </Card>
  );
});
```

## ğŸ“ í•µì‹¬ ì •ë¦¬

### 1. useState í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸
- **ì–¸ì œ ì“¸ê¹Œ**: ì´ì „ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ë•Œ
- **ì¥ì **: ìµœì‹  ìƒíƒœ ë³´ì¥, useEffect ì˜ì¡´ì„± ìµœì†Œí™”
- **íŒ¨í„´**: `setState(prev => ìƒˆë¡œìš´ê°’)`

### 2. useEffect ì˜ì¡´ì„± ê´€ë¦¬
- **ë¹ˆ ë°°ì—´ []**: ë§ˆìš´íŠ¸ ì‹œ í•œ ë²ˆ
- **íŠ¹ì • ê°’**: í•´ë‹¹ ê°’ ë³€í™” ì‹œ
- **ì›ì¹™**: ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ê°’ì„ ì˜ì¡´ì„±ì— í¬í•¨

### 3. ë©”ëª¨ì´ì œì´ì…˜ ì „ëµ
- **React.memo**: ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ìµœì í™”
- **useMemo**: ê³„ì‚° ê²°ê³¼ ìºì‹±
- **useCallback**: í•¨ìˆ˜ ì°¸ì¡° ê³ ì •

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. ê³¼ë„í•œ ìµœì í™” ê¸ˆì§€
```typescript
// ì´ëŸ° ê°„ë‹¨í•œ ì»´í¬ë„ŒíŠ¸ëŠ” memo í•„ìš” ì—†ì–´
const SimpleText = React.memo(({ text }) => <p>{text}</p>);

// ì°¨ë¼ë¦¬ ì´ë ‡ê²Œ
const SimpleText = ({ text }) => <p>{text}</p>;
```

### 2. ì˜ì¡´ì„± ë°°ì—´ ì™„ì „ì„±
ESLint ê·œì¹™ `exhaustive-deps`ë¥¼ ì¼œì„œ ë†“ì¹œ ì˜ì¡´ì„±ì„ ì°¾ì!

### 3. ì°¸ì¡° ë™ë“±ì„± ì£¼ì˜
```typescript
// ì´ê±´ ë§¤ë²ˆ ìƒˆ ê°ì²´ë¼ì„œ memo íš¨ê³¼ ì—†ìŒ
<ExpenseItem expense={{ id: 1, name: 'test' }} />

// ì´ë ‡ê²Œ ë³€ìˆ˜ë¡œ ë¹¼ê±°ë‚˜
const expense = { id: 1, name: 'test' };
<ExpenseItem expense={expense} />

// useMemoë¡œ ë©”ëª¨í•˜ê¸°
const expense = useMemo(() => ({ id: 1, name: 'test' }), []);
```

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„
- Custom Hooks ë§Œë“¤ê¸° (ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¡œì§)
- useReducerë¡œ ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬
- React DevToolsë¡œ ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§